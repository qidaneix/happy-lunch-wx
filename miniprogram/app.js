"use strict";
App({
    globalData: {},
    onLaunch: function () {
        var _this = this;
        var setUUID = function () {
            var uuid = Math.random().toString().slice(2, 15);
            _this.globalData.uuid = uuid;
            wx.setStorageSync("uuid", {
                uuid: uuid,
                time: Date.now(),
            });
        };
        var _a = wx.getStorageSync("uuid"), time = _a.time, uuid = _a.uuid;
        if (!time || !uuid || Date.now() - time > 1000 * 4 * 60 * 60) {
            setUUID();
        }
        else {
            this.globalData.uuid = uuid;
        }
        var userName = wx.getStorageSync("userName");
        if (userName) {
            this.globalData.userName = userName;
        }
    },
    onShow: function () { },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYXBwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxHQUFHLENBQWE7SUFDZCxVQUFVLEVBQUUsRUFBRTtJQUNkLFFBQVE7UUFBUixpQkFzQkM7UUFyQkMsSUFBTSxPQUFPLEdBQUc7WUFDZCxJQUFNLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztZQUNuRCxLQUFJLENBQUMsVUFBVSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7WUFDNUIsRUFBRSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUU7Z0JBQ3hCLElBQUksTUFBQTtnQkFDSixJQUFJLEVBQUUsSUFBSSxDQUFDLEdBQUcsRUFBRTthQUNqQixDQUFDLENBQUM7UUFDTCxDQUFDLENBQUM7UUFFSSxJQUFBLDhCQUEwQyxFQUF4QyxjQUFJLEVBQUUsY0FBa0MsQ0FBQztRQUNqRCxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFO1lBRTVELE9BQU8sRUFBRSxDQUFDO1NBQ1g7YUFBTTtZQUNMLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztTQUM3QjtRQUVELElBQU0sUUFBUSxHQUFHLEVBQUUsQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDL0MsSUFBSSxRQUFRLEVBQUU7WUFDWixJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7U0FDckM7SUFDSCxDQUFDO0lBQ0QsTUFBTSxnQkFBSSxDQUFDO0NBQ1osQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gYXBwLnRzXG5BcHA8SUFwcE9wdGlvbj4oe1xuICBnbG9iYWxEYXRhOiB7fSxcbiAgb25MYXVuY2goKSB7XG4gICAgY29uc3Qgc2V0VVVJRCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHV1aWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKCkuc2xpY2UoMiwgMTUpO1xuICAgICAgdGhpcy5nbG9iYWxEYXRhLnV1aWQgPSB1dWlkO1xuICAgICAgd3guc2V0U3RvcmFnZVN5bmMoXCJ1dWlkXCIsIHtcbiAgICAgICAgdXVpZCxcbiAgICAgICAgdGltZTogRGF0ZS5ub3coKSxcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCB7IHRpbWUsIHV1aWQgfSA9IHd4LmdldFN0b3JhZ2VTeW5jKFwidXVpZFwiKTtcbiAgICBpZiAoIXRpbWUgfHwgIXV1aWQgfHwgRGF0ZS5ub3coKSAtIHRpbWUgPiAxMDAwICogNCAqIDYwICogNjApIHtcbiAgICAgIC8vIOS4jeWtmOWcqOaIluiAhei2hei/hzTlsI/ml7bvvIzph43nva5cbiAgICAgIHNldFVVSUQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5nbG9iYWxEYXRhLnV1aWQgPSB1dWlkO1xuICAgIH1cblxuICAgIGNvbnN0IHVzZXJOYW1lID0gd3guZ2V0U3RvcmFnZVN5bmMoXCJ1c2VyTmFtZVwiKTtcbiAgICBpZiAodXNlck5hbWUpIHtcbiAgICAgIHRoaXMuZ2xvYmFsRGF0YS51c2VyTmFtZSA9IHVzZXJOYW1lO1xuICAgIH1cbiAgfSxcbiAgb25TaG93KCkge30sXG59KTtcbiJdfQ==